<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/input.css" />
    <title>정보 입력</title>
    <script src="https://unpkg.com/feather-icons"></script>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <a href="/" class="backicon">
          <i data-feather="chevron-left" style="color: #6b7280;"></i>
        </a>
        <h3 class="title">촬영</h3>
      </header>

      <!-- Main -->
      <main class="content">
        <div class="description">
          <h2>정확한 측정을 위해 <br /><span class="highlight">정보를 확인</span>해주세요</h2>
          <p style="color: #ccc">보다 더 정확한 측정을 위해 <br />정확한 정보를 입력해주시길 바랍니다.</p>
        </div>

        <!-- Input Fields -->
        <!-- <div class="input-group">
          <label for="height">신장</label>
          <div class="input-box">
            <input type="number" id="height" />
            <span>cm</span>
          </div>
        </div>

        <div class="input-group">
          <label for="weight">체중</label>
          <div class="input-box">
            <input type="number" id="weight" />
            <span>kg</span>
          </div>
        </div>

        <p class="note">※ 수정된 신장, 체중값은 측정 후 <br />계정 정보에 자동 반영이 됩니다.</p>

        <div class="buttons">
          <button class="btn-black">측정방법 알아보기</button>
          <button class="custom-btn btn-4" onclick="startMeasurement()">측정 시작하기</button>
        </div> -->
      <form id="measurement-form" action="/save-user-data" method="POST" onsubmit="return handleSubmit(event)">
  <div class="input-group">
    <label for="height">신장</label>
    <div class="input-box">
<input type="number" id="height" name="height" step="0.01" required />
      <span>cm</span>
    </div>
  </div>

  <div class="input-group">
    <label for="weight">체중</label>
    <div class="input-box">
<input type="number" id="weight" name="weight" step="0.01" required />
      <span>kg</span>
    </div>
  </div>

  <p class="note">※ 수정된 신장, 체중값은 측정 후 <br />계정 정보에 자동 반영이 됩니다.</p>

  <div class="buttons">
    <button class="btn-black" type="button">측정방법 알아보기</button>
    <button class="custom-btn btn-4" type="submit">측정 시작하기</button>
  </div>
</form>

        
      </main>


<script>
  feather.replace();

  async function handleSubmit(event) {
    event.preventDefault(); 

    const form = document.getElementById("measurement-form");
    const formData = new FormData(form);

    const response = await fetch(form.action, {
      method: form.method,
      body: formData,
    });

    if (response.ok) {
      window.location.href = "/camera";
    } else {
      alert("Data saving failed. Please try again.");
    }
  }
</script>

  </body>
</html>
